image: node:16

stages:
  - verify
  - build

check_node:
  stage: verify
  script:
    - if ! command -v node &> /dev/null; then echo "Node is not installed"; exit 1; fi
    - echo "Node is installed on the system."

install_dependencies:
  stage: build
  script:
    - echo "Installing Dependencies"
    - npm install

build_project:
  stage: build
  needs: [install_dependencies]  # Ensure this job runs after install_dependencies
  script:
    - echo "Deleting the old dist folder"
    - rm -rf dist
    - echo "Building the project with default configuration"
    - npm run build
    - echo "Build created Successfully. ğŸ‘"
